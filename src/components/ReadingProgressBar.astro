---
---
<div id="reading-progress-bar-container">
    <div id="reading-progress-bar"></div>
</div>

<style>
    #reading-progress-bar-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background-color: transparent;
        z-index: 9999;
    }

    #reading-progress-bar {
        height: 100%;
        background-color: #facc15; /* yellow-400 */
        width: 0;
        transition: width 0.1s ease-out;
    }
</style>

<script>
    const progressBar = document.getElementById('reading-progress-bar');
    const article = document.querySelector('article');

    if (progressBar && article) {
        const updateProgressBar = () => {
            const { top, height } = article.getBoundingClientRect();
            const scrollableHeight = height - window.innerHeight;
            const scrollProgress = -top;
            const progress = (scrollProgress / scrollableHeight) * 100;

            const clampedProgress = Math.min(100, Math.max(0, progress));

            progressBar.style.width = `${clampedProgress}%`;
        };

        window.addEventListener('scroll', updateProgressBar);
        // Initial call to set the progress bar
        updateProgressBar();
    }
</script>
